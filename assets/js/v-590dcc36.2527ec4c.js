"use strict";(self.webpackChunkshx_blog=self.webpackChunkshx_blog||[]).push([[494],{1706:(s,n,a)=>{a.r(n),a.d(n,{data:()=>l});const l={key:"v-590dcc36",path:"/vue/vueA1.html",title:"vue问题记录",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"watch监听对象多个属性变化后再执行事件",slug:"watch监听对象多个属性变化后再执行事件",children:[{level:3,title:"props的值不能直接改变",slug:"props的值不能直接改变",children:[]}]}],filePathRelative:"vue/vueA1.md",git:{updatedTime:1639623777e3,contributors:[{name:"shangxin",email:"1083732908@qq.com",commits:1}]}}},6397:(s,n,a)=>{a.r(n),a.d(n,{default:()=>p});const l=(0,a(6252).uE)('<h1 id="vue问题记录" tabindex="-1"><a class="header-anchor" href="#vue问题记录" aria-hidden="true">#</a> vue问题记录</h1><h2 id="watch监听对象多个属性变化后再执行事件" tabindex="-1"><a class="header-anchor" href="#watch监听对象多个属性变化后再执行事件" aria-hidden="true">#</a> watch监听对象多个属性变化后再执行事件</h2><p>使用计算属性 避免触发多次</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C8C8C8;">computed</span><span style="color:#D4D4D4;">: {</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">cloneQueryParams</span><span style="color:#D4D4D4;">(){</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">JSON</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">parse</span><span style="color:#D4D4D4;">(</span><span style="color:#4EC9B0;">JSON</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">stringify</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">queryParams</span><span style="color:#D4D4D4;">))</span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">  },</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C8C8C8;">watch</span><span style="color:#D4D4D4;">:{</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#CE9178;">&#39;cloneQueryParams&#39;</span><span style="color:#D4D4D4;">: {</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#DCDCAA;">handler</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">nv</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">ov</span><span style="color:#D4D4D4;">){</span></span>\n<span class="line"><span style="color:#D4D4D4;">       </span><span style="color:#6A9955;">// do ..</span></span>\n<span class="line"><span style="color:#D4D4D4;">      },</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">deep:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">true</span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">  }</span></span>\n<span class="line"></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C8C8C8;">computed</span><span style="color:#D4D4D4;">: {</span></span>\n<span class="line"><span style="color:#D4D4D4;"> \t</span><span style="color:#DCDCAA;">watchObj</span><span style="color:#D4D4D4;"> () {</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">let</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">id</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;"> } = </span><span style="color:#569CD6;">this</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">id</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;"> }</span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">},</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="props的值不能直接改变" tabindex="-1"><a class="header-anchor" href="#props的值不能直接改变" aria-hidden="true">#</a> props的值不能直接改变</h3><p>持用computed</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">setup</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">props</span><span style="color:#D4D4D4;">, {</span><span style="color:#9CDCFE;">attrs</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">emit</span><span style="color:#D4D4D4;">}){</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">localValue</span><span style="color:#D4D4D4;"> = </span><span style="color:#DCDCAA;">computed</span><span style="color:#D4D4D4;">({</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#DCDCAA;">get</span><span style="color:#D4D4D4;">(){</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">props</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">value</span></span>\n<span class="line"><span style="color:#D4D4D4;">      },</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#DCDCAA;">set</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">val</span><span style="color:#D4D4D4;">){</span></span>\n<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#DCDCAA;">emit</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;input&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">val</span><span style="color:#D4D4D4;">)</span></span>\n<span class="line"><span style="color:#D4D4D4;">      }</span></span>\n<span class="line"><span style="color:#D4D4D4;">    })</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">localValue</span></span>\n<span class="line"><span style="color:#D4D4D4;">    }</span></span>\n<span class="line"><span style="color:#D4D4D4;">  },</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div>',8),p={render:function(s,n){return l}}}}]);